(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{42:function(e,a){},43:function(e,a,t){e.exports=t(78)},48:function(e,a,t){},77:function(e,a){},78:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(20),l=t.n(s),o=(t(48),t(9)),i=t(12),c=t(13),m=t(17),u=t(14),d=t(18),p=function(e){function a(){return Object(i.a)(this,a),Object(m.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,"This is the about page        !!!!!!!!!@@@@@@@@")}}]),a}(n.Component),h=t(15),E=t(16),v=t(25),f=t.n(v);function g(e){return{type:"login_user",payload:f.a.post("/api/users/login",e).then((function(e){return e.data}))}}function w(e){return{type:"register_user",payload:f.a.post("/api/users/register",e).then((function(e){return e.data}))}}var b=t(11),N=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(t=Object(m.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(s)))).state={email:"",password:"",errors:[]},t.displayErrors=function(e){return e.map((function(e,a){return r.a.createElement("p",{key:a},e)}))},t.handleChange=function(e){t.setState(Object(h.a)({},e.target.name,e.target.value))},t.submitForm=function(e){e.preventDefault();var a={email:t.state.email,password:t.state.password};t.isFormvalid(t.state)?(t.setState({errors:[]}),t.props.dispatch(g(a)).then((function(e){e.payload.loginSuccess?t.props.history.push("/"):t.setState({errors:t.state.errors.concat("Failed to log in, you can check your Email and Password")})}))):t.setState({errors:t.state.errors.concat("Form is not valid")})},t.isFormvalid=function(e){var a=e.email,t=e.password;return a&&t},t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Log In"),r.a.createElement("div",{className:"row"},r.a.createElement("form",{className:"col s12",onSubmit:function(a){return e.submitForm(a)}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{name:"email",id:"email",value:this.state.email,onChange:function(a){return e.handleChange(a)},type:"email",className:"validate"}),r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("span",{className:"helper-text","data-error":"Type a right type email","data-success":"right"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{name:"password",id:"password",value:this.state.password,onChange:function(a){return e.handleChange(a)},type:"password",className:"validate"}),r.a.createElement("label",{htmlFor:"email"},"Password"),r.a.createElement("span",{className:"helper-text","data-error":"Wrong","data-success":"right"}))),this.state.errors.length>0&&r.a.createElement("div",null,this.displayErrors(this.state.errors)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("button",{className:"btn waves-effect red",type:"submit",name:"action",onClick:this.submitForm},"Login"),"\xa0\xa0\xa0",r.a.createElement(b.b,{to:"/register"},r.a.createElement("button",{className:"btn waves-effect red",type:"submit",name:"action"},"Sign up"))),r.a.createElement("div",{className:"col s6"})))))}}]),a}(n.Component);var y=Object(E.b)((function(e){return{user:e.user}}))(N),C=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(t=Object(m.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(s)))).state={lastname:"",name:"",email:"",password:"",passwordConfirmation:"",errors:[]},t.displayErrors=function(e){return e.map((function(e,a){return r.a.createElement("p",{key:a},e)}))},t.isFormValid=function(){var e,a=[];if(t.isFormEmpty(t.state))e={message:"Fill in all fields"},t.setState({errors:a.concat(e)});else{if(t.isPasswordValid(t.state))return!0;e={message:"Password is invalid"},t.setState({errors:a.concat(e)})}},t.isPasswordValid=function(e){var a=e.password,t=e.passwordConfirmation;return!(a.length<6||t.length<6)&&a===t},t.isFormEmpty=function(e){var a=e.lastname,t=e.name,n=e.email,r=e.password,s=e.passwordConfirmation;return!t.length||!a.length||!n.length||!r.length||!s.length},t.handleChange=function(e){t.setState(Object(h.a)({},e.target.name,e.target.value))},t.submitForm=function(e){e.preventDefault();var a={email:t.state.email,name:t.state.name,lastname:t.state.lastname,password:t.state.password,passwordConfirmation:t.state.passwordConfirmation};t.isFormValid()?(t.setState({errors:[]}),t.props.dispatch(w(a)).then((function(e){e.payload.success?t.props.history.push("/login"):t.setState({errors:t.state.errors.concat("your attempt to send data to DB was failed")})})).catch((function(e){t.setState({errors:t.state.errors.concat(e)})}))):console.error("Form is not valid")},t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Sign up"),r.a.createElement("div",{className:"row"},r.a.createElement("form",{className:"col s12",onSubmit:function(a){return e.submitForm(a)}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{name:"lastname",id:"lastname",value:this.state.lastname,onChange:function(a){return e.handleChange(a)},type:"text",className:"validate"}),r.a.createElement("label",{htmlFor:"lastname"},"lastname"),r.a.createElement("span",{className:"helper-text","data-error":"Type a right type email","data-success":"right"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{name:"name",id:"name",value:this.state.name,onChange:function(a){return e.handleChange(a)},type:"text",className:"validate"}),r.a.createElement("label",{htmlFor:"name"},"name"),r.a.createElement("span",{className:"helper-text","data-error":"Wrong","data-success":"right"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{name:"email",id:"email",value:this.state.email,onChange:function(a){return e.handleChange(a)},type:"text",className:"validate"}),r.a.createElement("label",{htmlFor:"email"},"email"),r.a.createElement("span",{className:"helper-text","data-error":"Wrong","data-success":"right"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{name:"password",id:"password",value:this.state.password,onChange:function(a){return e.handleChange(a)},type:"password",className:"validate"}),r.a.createElement("label",{htmlFor:"password"},"password"),r.a.createElement("span",{className:"helper-text","data-error":"Wrong","data-success":"right"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{name:"passwordConfirmation",id:"passwordConfirmation",value:this.state.passwordConfirmation,onChange:function(a){return e.handleChange(a)},type:"password",className:"validate"}),r.a.createElement("label",{htmlFor:"passwordConfirmation"},"passwordConfirmation"),r.a.createElement("span",{className:"helper-text","data-error":"Wrong","data-success":"right"}))),this.state.errors.length>0&&r.a.createElement("div",null,this.displayErrors(this.state.errors)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("button",{className:"btn waves-effect red",type:"submit",name:"action",onClick:this.submitForm},"Create an account")),r.a.createElement("div",{className:"col s6"})))))}}]),a}(n.Component),O=Object(E.b)()(C);var F=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/about",component:p}),r.a.createElement(o.a,{path:"/login",component:y}),r.a.createElement(o.a,{path:"/register",component:O})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var j=t(10),S=t(40),_=t.n(S),k=t(41),x=(t(76),t(28)),D=t(42),T=t.n(D),W=Object(j.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"login_user":case"register_user":return Object(x.a)({},e,{loginSuccess:a.payload});default:return e}},chats:T.a}),V=(t(77),Object(j.a)(_.a,k.a)(j.d));l.a.render(r.a.createElement(E.a,{store:V(W,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())},r.a.createElement(b.a,null,r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"Loading~~~")},r.a.createElement(F,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[43,1,2]]]);
//# sourceMappingURL=main.017048c2.chunk.js.map